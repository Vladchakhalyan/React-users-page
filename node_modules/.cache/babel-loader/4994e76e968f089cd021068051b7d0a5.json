{"ast":null,"code":"import { authApi } from \"../API/api\";\nimport { stopSubmit } from \"redux-form\";\nconst A_TH = \"A_TH\";\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: false\n};\n\nconst authPage = (state = initialState, action) => {\n  switch (action.type) {\n    case A_TH:\n      return { ...state,\n        ...action.data\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const ath = (id, email, login, isAuth) => ({\n  type: A_TH,\n  data: {\n    id,\n    email,\n    login,\n    isAuth\n  }\n});\nexport const VUheader = () => dispatch => {\n  authApi.getUsers4().then(data => {\n    if (data.resultCode === 0) {\n      let {\n        id,\n        email,\n        login\n      } = data.data;\n      dispatch(ath(id, email, login, true));\n    }\n  });\n};\nexport const authLoginPAge = (email, password, rememberMe) => dispatch => {\n  authApi.authLogin(email, password, rememberMe).then(data => {\n    if (data.resultCode === 0) {\n      dispatch(VUheader());\n    } else {\n      dispatch(stopSubmit(\"login\", {\n        _er\n      }));\n    }\n  });\n};\nexport const Loginauth = () => dispatch => {\n  authApi.authLoginDelet().then(data => {\n    if (data.resultCode === 0) {\n      dispatch(ath(null, null, null, false));\n    }\n  });\n};\nexport default authPage;","map":{"version":3,"sources":["C:/Users/user/OneDrive/Рабочий стол/React/src/redux/authPage.js"],"names":["authApi","stopSubmit","A_TH","initialState","userId","email","login","isAuth","authPage","state","action","type","data","ath","id","VUheader","dispatch","getUsers4","then","resultCode","authLoginPAge","password","rememberMe","authLogin","_er","Loginauth","authLoginDelet"],"mappings":"AAAA,SAASA,OAAT,QAAwB,YAAxB;AACA,SAASC,UAAT,QAA2B,YAA3B;AAEA,MAAMC,IAAI,GAAG,MAAb;AAEA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAE,IADS;AAEjBC,EAAAA,KAAK,EAAE,IAFU;AAGjBC,EAAAA,KAAK,EAAE,IAHU;AAIjBC,EAAAA,MAAM,EAAE;AAJS,CAAnB;;AAOA,MAAMC,QAAQ,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACjD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKT,IAAL;AACE,aAAO,EAAE,GAAGO,KAAL;AAAY,WAAGC,MAAM,CAACE;AAAtB,OAAP;;AACF;AACE,aAAOH,KAAP;AAJJ;AAMD,CAPD;;AASA,OAAO,MAAMI,GAAG,GAAG,CAACC,EAAD,EAAKT,KAAL,EAAYC,KAAZ,EAAmBC,MAAnB,MAA+B;AAChDI,EAAAA,IAAI,EAAET,IAD0C;AAEhDU,EAAAA,IAAI,EAAE;AAAEE,IAAAA,EAAF;AAAMT,IAAAA,KAAN;AAAaC,IAAAA,KAAb;AAAoBC,IAAAA;AAApB;AAF0C,CAA/B,CAAZ;AAKP,OAAO,MAAMQ,QAAQ,GAAG,MAAOC,QAAD,IAAc;AAC1ChB,EAAAA,OAAO,CAACiB,SAAR,GAAoBC,IAApB,CAA0BN,IAAD,IAAU;AACjC,QAAIA,IAAI,CAACO,UAAL,KAAoB,CAAxB,EAA2B;AACzB,UAAI;AAAEL,QAAAA,EAAF;AAAMT,QAAAA,KAAN;AAAaC,QAAAA;AAAb,UAAuBM,IAAI,CAACA,IAAhC;AACAI,MAAAA,QAAQ,CAACH,GAAG,CAACC,EAAD,EAAKT,KAAL,EAAYC,KAAZ,EAAmB,IAAnB,CAAJ,CAAR;AACD;AACF,GALD;AAMD,CAPM;AAQP,OAAO,MAAMc,aAAa,GAAG,CAACf,KAAD,EAAQgB,QAAR,EAAkBC,UAAlB,KAAkCN,QAAD,IAAc;AAC1EhB,EAAAA,OAAO,CAACuB,SAAR,CAAkBlB,KAAlB,EAAyBgB,QAAzB,EAAmCC,UAAnC,EAA+CJ,IAA/C,CAAqDN,IAAD,IAAU;AAC5D,QAAIA,IAAI,CAACO,UAAL,KAAoB,CAAxB,EAA2B;AACzBH,MAAAA,QAAQ,CAACD,QAAQ,EAAT,CAAR;AACD,KAFD,MAEO;AACLC,MAAAA,QAAQ,CAACf,UAAU,CAAC,OAAD,EAAU;AAAEuB,QAAAA;AAAF,OAAV,CAAX,CAAR;AACD;AACF,GAND;AAOD,CARM;AAUP,OAAO,MAAMC,SAAS,GAAG,MAAOT,QAAD,IAAc;AAC3ChB,EAAAA,OAAO,CAAC0B,cAAR,GAAyBR,IAAzB,CAA+BN,IAAD,IAAU;AACtC,QAAIA,IAAI,CAACO,UAAL,KAAoB,CAAxB,EAA2B;AACzBH,MAAAA,QAAQ,CAACH,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,KAAnB,CAAJ,CAAR;AACD;AACF,GAJD;AAKD,CANM;AAQP,eAAeL,QAAf","sourcesContent":["import { authApi } from \"../API/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst A_TH = \"A_TH\";\n\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: false,\n};\n\nconst authPage = (state = initialState, action) => {\n  switch (action.type) {\n    case A_TH:\n      return { ...state, ...action.data };\n    default:\n      return state;\n  }\n};\n\nexport const ath = (id, email, login, isAuth) => ({\n  type: A_TH,\n  data: { id, email, login, isAuth },\n});\n\nexport const VUheader = () => (dispatch) => {\n  authApi.getUsers4().then((data) => {\n    if (data.resultCode === 0) {\n      let { id, email, login } = data.data;\n      dispatch(ath(id, email, login, true));\n    }\n  });\n};\nexport const authLoginPAge = (email, password, rememberMe) => (dispatch) => {\n  authApi.authLogin(email, password, rememberMe).then((data) => {\n    if (data.resultCode === 0) {\n      dispatch(VUheader());\n    } else {\n      dispatch(stopSubmit(\"login\", { _er }));\n    }\n  });\n};\n\nexport const Loginauth = () => (dispatch) => {\n  authApi.authLoginDelet().then((data) => {\n    if (data.resultCode === 0) {\n      dispatch(ath(null, null, null, false));\n    }\n  });\n};\n\nexport default authPage;\n"]},"metadata":{},"sourceType":"module"}